# v2機能実装タスク - 指示書一覧

## 概要
ダッシュボード → ビューワ → OCR/AIチェック → 結果反映 の一連のフローを実現するためのタスク集。

## 設計書
- `architecture_v2.md` - 全体アーキテクチャ設計

## タスク一覧

| ID | ファイル | 内容 | 言語 | 優先度 | 依存 |
|----|----------|------|------|--------|------|
| T1 | `task_t1_data_structure.md` | DocStatusにチェック結果フィールド追加 | Rust | 高 | - |
| T2 | `task_t2_api_client.md` | WASMからPythonサーバーへの通信モジュール | Rust | 高 | T1 |
| T3 | `task_t3_server_url.md` | URLから書類取得→チェックのエンドポイント | Python | 高 | - |
| T4 | `task_t4_viewer_actions.md` | ビューワにOCR/チェックボタン追加 | Rust | 中 | T1,T2 |
| T5 | `task_t5_result_panel.md` | チェック結果パネルUIの詳細実装 | Rust | 中 | T1 |
| T6 | `task_t6_dashboard_badge.md` | ダッシュボードに所見バッジ表示 | Rust | 中 | T1 |
| T7 | `task_t7_save_function.md` | 保存機能の拡張（自動保存、エクスポート） | Rust | 低 | T1 |

## 実行計画

```
┌─────────────────────────────────────────────────────────┐
│  Round 1 (並列実行可能)                                 │
│  ├── T1: データ構造拡張 (Rust) ★最優先                 │
│  └── T3: サーバーURL対応 (Python)                       │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  Round 2 (並列実行可能、T1完了後)                       │
│  ├── T2: API通信モジュール (Rust)                       │
│  ├── T5: 結果パネルUI (Rust)                            │
│  ├── T6: ダッシュボード所見表示 (Rust)                  │
│  └── T7: 保存機能拡張 (Rust)                            │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  Round 3 (T1,T2完了後)                                  │
│  └── T4: ビューワアクションUI (Rust)                    │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  Round 4                                                │
│  └── 統合テスト & 調整                                  │
└─────────────────────────────────────────────────────────┘
```

## 各タスクの使い方

1. 指示書のファイル内容をコピー
2. オンラインClaudeに貼り付け
3. 「この指示に従って修正してください」と依頼
4. 出力されたコードをレビュー
5. 問題なければ適用

## 並列実行の組み合わせ

### 最大並列（4人）
```
Claude A: T1 (データ構造) - Rust
Claude B: T3 (サーバー) - Python
Claude C: T5 (結果パネル) - Rust ※T1のコード例を含めて渡す
Claude D: T6 (バッジ表示) - Rust ※T1のコード例を含めて渡す
```

### 2人並列
```
Round 1:
  Claude A: T1 (Rust)
  Claude B: T3 (Python)

Round 2:
  Claude A: T2, T4 (Rust、順番に)
  Claude B: T5, T6, T7 (Rust、順番に)
```

## 完了後の確認事項

- [ ] `trunk build` が通る
- [ ] ダッシュボードから書類クリック → ビューワ表示
- [ ] ビューワでAIチェックボタン → サーバー通信
- [ ] チェック結果がパネルに表示
- [ ] ダッシュボードに戻ると所見バッジが表示
- [ ] ページリロード後もチェック結果が保持
- [ ] JSONエクスポートにチェック結果が含まれる
